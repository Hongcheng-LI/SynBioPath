
**本地 Blast**

\1. **网络参考教程**

[知乎 | 本地BLAST序列比对](https://zhuanlan.zhihu.com/p/65505346)

[知乎 | 生信基础 | 使用BLAST进行序列比对](https://zhuanlan.zhihu.com/p/107894498)

[科学网 | Windows10 Blast本地化构建、本地数据库构建及序列检索](https://blog.sciencenet.cn/home.php?mod=space&uid=3375649&do=blog&id=1106079)

\2. **实际使用教程**

1. 下载本地 blast 软件安装包

```https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/2.17.0/ncbi-blast-2.17.0+-win64.exe```
注意：该版本为 2.17.0，教程是以 2.9.0 为基础进行的介绍，请在详细的使用过程中将 2.9.0 改为 2.17.0

2. 提前安装好本地blast软件，本人使用版本为2.9.0，安装地址为C:\blast-2.9.0+

3. 同时按下**Win+R**键。 如下图所示 在出现的窗口中，输入**cmd**，点击确定或者回车键 ，即可打开命令行窗口。 

![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.001.png)

![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.002.png)

4. 进入本地blast安装目录

```Markdown
cd C:\blast-2.9.0+```
![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.003.png)

5. 查看blastn版本，若出现下图，证明安装成功

```C#
blastn -version```
![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.004.png)

6. 将自己的基因组序列复制到本地blast安装目录文件夹内，输入下方命令，建立本地比对数据库

```C#
C:\blast-2.9.0+\bin\makeblastdb -in OUCF108.fasta -dbtype nucl -out OUCF108```


```<p>**C:\blast-2.9.0+\bin\makeblastdb：**调用makeblastdb软件，建立本地数据库。</p><p>**in ：** 构建数据库所用的序列文件，本次建立数据库的序列文件为 OUCF108.fasta。</p><p>**dbtype：**数据库类型，本次建立数据库的类型为核酸数据库，输入nucl，若建立数据库的类型为氨基酸数据库，则输入prot。</p><p>**out：**建立数据库的名称，本次建立数据库的名称为OUCF108。</p>```
![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.005.png)

7. 将要比对的目标序列复制到本地blast安装目录文件夹内，输入下方命令，进行目标序列与本地数据库的局部比对。

```C#
blastn.exe -task blastn -query POX-ku70.fasta -db OUCF108 -out OUCF108-ku70.txt -evalue 1e-5 -outfmt 6```


```<p>**blastn.exe：**运行blastn软件</p><p>**task：** 序列比对的方式，本次序列比对的方式为将核苷酸序列比对至核苷酸数据库，因此输入blastn；</p><p>- 如果数据库与目标序列均为核酸序列，需要查看二者的核酸序列比对结果，则输入blastn；</p><p>- 如果数据库与目标序列均为氨基酸序列，需要查看二者的氨基酸序列比对结果，则输入blastp；</p><p>- 如果数据库为氨基酸序列，目标序列为核酸序列，需要查看二者的序列比对结果，则输入blastx；</p><p>- 如果数据库为核酸序列，目标序列为氨基酸序列，但要查看二者的氨基酸序列比对结果，则输入tblastn。比对时，会先将将数据库中的核酸序列翻译为氨基酸序列，而后再进行逐一比对；</p><p>- 如果数据库与目标序列均为核酸序列，但要查看二者的氨基酸序列比对结果，则输入tblastx，此时会将输入的核苷酸序列与数据库中的核苷酸序列都先翻译为氨基酸序列，而后再进行逐一比对。</p><p>**query：**作为序列探针的目标序列，本次的目标序列为POX-ku70.fasta。</p><p>**db：**序列比对使用的数据库，本次使用的数据库为OUCF108。</p><p>**out：**序列比对结果的文件名，本次序列比对结果的文件名称为OUCF108-ku70.txt</p><p>**-evalue：** 设置输出结果中的e-value阈值。e-value低于1e-5就可认为序列具有较高的同源性。</p><p>**outfmt：**输出文件的格式，共有0-18这19种格式，但一般常用的格式只有0,5,6,7 本次设置格式为6。</p><p>- 0：成对输出，与在线比对结果相同；</p><p>- 5：输出xml格式；</p><p>- 6：输出table格式；</p><p>- 7：输出带有注释行的table格式；</p>```
![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.006.png)

8. 结束后，在本地blast安装目录文件夹内打开名为OUCF108-ku70.txt的文件，即为序列比对结果。

![...](..\..\0.%20软件教程\生物信息学工具（Windows）\images\本地%20Blast.007.png)

```<p>结果共有12列，每一列的含义如下：</p><p>第1列：输入目标序列的名称。 </p><p>**第2列：**本地数据库中与目标序列同源的序列名称。</p><p>**第3列：**序列相似度。</p><p>**第4列：**比对序列的有效长度。</p><p>**第5列：**错配数。</p><p>**第6列：**gap数。</p><p>**第7-8列：**目标序列比对时的起始和终止位置。</p><p>**第9-10列：**比对到数据库中同源序列的起始和终止位置。</p><p>**第11列：**e-value。</p><p>**第12列：**比对得分。</p>```


